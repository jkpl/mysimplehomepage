id: altfin
title: altfin

---
AltFin is a variant of the [US International][usintl] keyboard layout.
Basically it's the same layout as US International except that AltFin has no
dead keys and the extra key between **Z** and **shift** is mapped to **Ä** and
**Ö**. The extra key mapping is similar to one used in [ArkkuDvorak][arkku].

The layout solves pretty much all the problems I have with the default finnish
QWERTY layout:

* Key mappings backwards compatible with the US layout.
* Quick access to **Ä** and **Ö**
* Access to bunch of other exotic symbols via Alt Gr

AltFin is useful for...

* people who like using US International layout without dead keys.
* people who dislike the way punctuation characters and other special
  characters are laid out in the finnish keyboard layout.
* people who need quick access to **Ä** and **Ö** characters, but don't need two whole
  keys in the home row devoted to them.
* myself. :^)

Pictures:
[no modifiers](img/altfin_norm.png),
[with Shift](img/altfin_shift.png),
[with Alt Gr](img/altfin_altgr.png),
[with Alt Gr + Shift](img/altfin_altgr_shift.png)

## Using AltFin on Windows

Unlike most Linux distributions, there is no dead keyless version of US
International variant, so I created an installable keyboard layout for Windows.

1. Download this archive: [altfin.zip](files/altfin.zip)
2. Unpack the archive and run `setup.exe` file
3. After the installation is complete, go to the keyboard layout settings in
   the Windows control panel.
4. Add the layout, and make it default. The layout is located under the finnish
   layouts group as "Alternative Finnish Layout" or something like that.

If you want to make changes to the layout, you can use [Microsoft Keyboard
Layout Creator][msklc] to modify the `altfin.klc` file located in the archive.

## Using AltFin on Linux

There are (atleast) two ways to install AltFin in Linux:

1. Use an existing XKB layout, and use Xmodmap to map the extra key, or
2. Use a custom XKB layout.

I'd say the first option is a more simple solution than the second one. I
recommend trying it, if you use a desktop environment like GNOME, KDE, XFCE or
LXDE. Many of the desktop environments provide tools for switching between
different keyboard layouts which might not work that well with custom layouts.

I personally prefer the second solution, because it doesn't involve Xmodmap.
Xmodmap is kind of a hack, and it might not give the results you'd hope for.
If you are interested in tuning your keyboard mappings via XKB, check out
[madduck's guide][xkb].

Anyhow, here are the two guides for AltFin on Linux:

### 1. Existing layout w/ Xmodmap

Most Linux distributions already provide a dead keyless version of the US
International variant. There are several ways to switch the layout:

* via graphical tools like **lxkeymap** in LXDE or **keyboard configuration
  tool** in GNOME.
* via command line using setxkbmap: `setxkbmap us -variant altgr-intl`

If you use Ubuntu or any other Debian based distribution, you can change the
layout system wide using the correct `dpkg-reconfigure` command:

    sudo dpkg-reconfigure keyboard-configuration

To map the extra key, put the following line to your .Xmodmap file in your home
directory, and make sure you run the command `xmodmap ~/.Xmodmap` everytime you
login:

    keycode 94 = adiaeresis odiaeresis Adiaeresis Odiaeresis

Unfortunately, Xmodmap doesn't recognize right Alt key as the Alt Gr key, so
you can't produce capitalized **ä** or **ö** by pressing right alt + (shift +)
the extra key. However, you can still access those letters by pressing right
alt + shift + q and right alt + shift + p.

If you change the keyboard layout or you somehow lose the xmodmap mappings,
just run `xmodmap ~/.Xmodmap` manually.

### 2. Custom XKB layout

By following [madduck's guide][xkb], I created my own XKB rules.

1. Download this archive: [altfin.tar.gz](files/altfin.tar.gz)
2. Unpack the archive to your home directory.
3. Place the `loadaltfin` any place you want and make it executable
   `chmod +x /path/to/loadaltfin`
4. Make sure you run `loadaltfin` every time you login.

If you change the keyboard layout or it somehow resets to some other layout,
just run the `loadaltfin` executable again.

[usintl]: http://en.wikipedia.org/wiki/Keyboard_layout#US-International
[arkku]: http://www.cs.helsinki.fi/u/kkuloves/dvorak.shtml
[msklc]: http://msdn.microsoft.com/en-us/goglobal/bb964665
[xkb]: http://madduck.net/docs/extending-xkb/
